<!DOCTYPE html>
<html lang="pt-BR">
<head>
<meta charset="UTF-8">
<title>Controle de Sorvetes</title>

<style>
body {
    font-family: Arial, sans-serif;
    background: #f5f5f5;
    padding: 20px;
}

h2 {
    cursor: pointer;
    background: #ddd;
    padding: 10px;
    margin: 0;
}

table {
    width: 100%;
    border-collapse: collapse;
    margin-bottom: 20px;
    background: #fff;
}

th, td {
    border: 1px solid #ccc;
    padding: 8px;
    text-align: center;
    color: #000 !important;
}

input {
    width: 60px;
    text-align: center;
    color: #000 !important;
}

.categoria {
    display: none;
}

.total {
    font-size: 22px;
    font-weight: bold;
    background: #fff;
    padding: 15px;
}
</style>
</head>

<body>

<h1>üç¶ Controle de Sorvetes</h1>

<div id="conteudo"></div>

<div class="total">
    Total: R$ <span id="valorTotal">0.00</span>
</div>

<script>
let precoPorCategoria = {
    "MAGNUM": null,
    "CORNETTO": null,
    "OS FAVORITOS": null,
    "FRUTARE": 10,
    "FRUTILLY": 7.5,
    "HARRY POTTER": null
};

let precosLancamentos = {
    "Cl√°ssico": 20,
    "Branco": 20,
    "Avel√£": 20,
    "Am√™ndoas": 20,
    "Cookies & Cream": 20,
    "Menos A√ß√∫car": 20,
    "Pistache": 21,

    "Choco Mix": 13,
    "Chocante": 13,
    "Uni Cornetto": 16.5,
    "M&Ms": 16.5,
    "Brigadeiro Cornetto": 16.5,

    "Mini Eski-bon": 17,
    "Mini Morango": 17,
    "Mini Chicabon": 17,
    "Mini Doce de Leite": 17,
    "Eski-bon": 12,
    "Brigadeiro": 12,
    "Chicabon": 12,
    "Chicabon Menos A√ß√∫car": 12,
    "3 Chocolates": 12.5,
    "Max Avel√£": 12.5,
    "Tablito": 12.5,

    "Expecto": 10,
    "Grifin√≥ria": 11,
    "Sonserina": 11
};

let categorias = {
    "MAGNUM": [
        "Cl√°ssico","Branco","Avel√£","Am√™ndoas",
        "Cookies & Cream","Menos A√ß√∫car","Pistache"
    ],
    "CORNETTO": [
        "Choco Mix","Chocante","Uni Cornetto",
        "M&Ms","Brigadeiro Cornetto"
    ],
    "OS FAVORITOS": [
        "Mini Eski-bon","Mini Morango","Mini Chicabon",
        "Mini Doce de Leite","Eski-bon","Brigadeiro",
        "Chicabon","Chicabon Menos A√ß√∫car",
        "3 Chocolates","Max Avel√£","Tablito"
    ],
    "FRUTARE": [
        "Tangerina","Lim√£o","Morango",
        "Abacaxi","Uva","Coco"
    ],
    "FRUTILLY": [
        "Frutilly","Frutilly Pinta L√≠ngua"
    ],
    "HARRY POTTER": [
        "Expecto","Grifin√≥ria","Sonserina"
    ]
};

let total = 0;
let index = 1;

function criarTabela() {
    const div = document.getElementById("conteudo");

    for (let cat in categorias) {
        let h2 = document.createElement("h2");
        h2.innerText = cat;
        h2.onclick = () => tabela.classList.toggle("categoria");
        div.appendChild(h2);

        let tabela = document.createElement("table");
        tabela.className = "categoria";

        tabela.innerHTML = `
            <tr>
                <th>Sabor</th>
                <th>Pre√ßo</th>
                <th>Vendido</th>
            </tr>
        `;

        categorias[cat].forEach(sabor => {
            let preco = precosLancamentos[sabor] ?? precoPorCategoria[cat];

            let tr = document.createElement("tr");
            tr.innerHTML = `
                <td>${sabor}</td>
                <td>R$ ${preco.toFixed(2)}</td>
                <td>
                    <input type="number" min="0" value="0"
                    id="vend_${index}"
                    oninput="recalcularTotal()">
                </td>
            `;
            tabela.appendChild(tr);
            index++;
        });

        div.appendChild(tabela);
    }
}

function recalcularTotal() {
    let novo = 0;
    let i = 1;

    for (let cat in categorias) {
        categorias[cat].forEach(sabor => {
            let preco = precosLancamentos[sabor] ?? precoPorCategoria[cat];
            let qtd = Number(document.getElementById("vend_" + i).value || 0);
            novo += qtd * preco;
            i++;
        });
    }

    total = novo;
    document.getElementById("valorTotal").innerText = total.toFixed(2);
}

criarTabela();
</script>

</body>
</html>